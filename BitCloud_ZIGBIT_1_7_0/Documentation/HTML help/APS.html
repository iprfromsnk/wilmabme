<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>BitCloud Stack Documentation: Application Support sub-layer</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<style>
acronym{
	cursor: help;
	border-bottom: red 1px dashed;
}
li.aps{
	margin:0.5em 0em;
}
</style>
</head><body>
<div class="tabs">
  <ul>
    <li id="current"><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li id="current"><a href="main.html"><span>Functions&nbsp;Summary</span></a></li>
    <li><a href="Sample_app.html"><span>Sample&nbsp;Applications</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li id="current"><a href="APS.html"><span>APS</span></a></li>
	<li><a href="ZDO.html"><span>ZDO</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="ASDU.html"><span>Frame&nbsp;Format</span></a></li>
	<li><a href="AIB.html"><span>Information&nbsp;Base</span></a></li>
	<li><a href="StatusParams.html"><span>Status&nbsp;Parameters</span></a></li>
  </ul></div>
<h2>Application Support sub-layer</h2>
<p>The application support sub-layer (APS) provides an interface between the network layer (NWK) and the application layer (APL) through a general set of services. These services are offered via the data service and the management service.</P>
<UL>
	<li class="aps">The Data Service (<ACRONYM title="Application support sub-layer data entity">APSDE</ACRONYM>) is provided to the network layer and both <ACRONYM title="ZigBee device object">ZDO</ACRONYM> and application objects to enable the transport of application <ACRONYM title="Protocol data unit">PDU</ACRONYM>s between two or more devices, located on the same network. It supports the following service primitives:</LI>
	<UL>
		<li class="aps"><a href="struct_a_p_s___data_req__t.html" class="el">Data Request</a> primitive is generated by a local Next Higher Layer (<ACRONYM title="Next higher layer entity">NHLE</ACRONYM>) whenever a Service Data Unit(<ACRONYM title="APS service data unit">ASDU</ACRONYM>) is to be transferred to one or more peer <ACRONYM title="Next higher layer entity">NHLE</ACRONYM>s. On receipt of this primitive, the APS sub-layer begins the transmission of the supplied <ACRONYM title="APS service data unit">ASDU</ACRONYM>.
		<li class="aps">The <a href="struct_a_p_s___data_conf__t.html" class="el">Data Confirm</A> primitive reports the results of a request to transfer an <ACRONYM title="APS service data unit">ASDU</ACRONYM> from a local <ACRONYM title="Next higher layer entity">NHLE</ACRONYM> to one or more peer <ACRONYM title="Next higher layer entity">NHLE</ACRONYM>s. It is generated by the local APS sub-layer in response to an <a href="struct_a_p_s___data_req__t.html" class="el">Data Request</A> primitive. On receipt of this primitive, the next higher layer of the initiating device is notified of the result of its request to transmit. If the transmission attempt was successful, the <a href="StatusParams.html" class="el">Status parameter</a> will be set to <a href="aps_8h.html#1b4ff3a412400f1920d4d56e771230c80787d3e34ec427cb7d3107395f348538" class="el">SUCCESS</a>. Otherwise, the <a href="StatusParams.html" class="el">Status parameter</a> will indicate the error.</LI>
		<li class="aps"><a href="struct_a_p_s___data_ind__t.html" class="el">Data Indicatiom</A> primitive indicates the transfer of an <ACRONYM title="APS service data unit">ASDU</ACRONYM> from the APS sublayer to the local application. This primitive is generated by the APS sub-layer and issued to the next higher layer on receipt of an appropriately addressed data frame from the local NWK layer. On receipt of this primitive, the next higher layer is notified of the arrival of data at the device.</LI>
	</UL>
	<li class="aps">The Management Service (<ACRONYM title="Application support sub-layer management entity">APSME</ACRONYM>) is provided  to allow an application to interact with the stack. The Management Service shall provide the ability to match two devices together based on their services and their needs. It also maintains a database of managed
objects, known as the <a href="AIB.html" class="el">APS information base (AIB)</A>.<!--This service is called the binding service, and the Management Service shall be able to construct and maintain a table to store this information.--><BR>The following set of primitives defines how the next higher layer of a device can read and write attributes in the <a href="AIB.html" class="el">AIB</A>.</LI>
	<UL>
		<li class="aps"><a href="struct_a_p_s___get_req__t.html" class="el">Get Request</A> primitive allows the next higher layer to read the value of an attribute from the <a href="AIB.html" class="el">AIB</A>. This primitive is generated by the next higher layer and issued to its <ACRONYM title="Application support sub-layer management entity">APSME</ACRONYM> in order to read an attribute from the <a href="AIB.html" class="el">AIB</A>. On receipt of this primitive, the <ACRONYM title="Application support sub-layer management entity">APSME</ACRONYM> attempts to retrieve the requested <a href="AIB.html" class="el">AIB</A> attribute from its database. If the requested <a href="AIB.html" class="el">AIB</A> attribute is successfully retrieved, the <ACRONYM title="Application support sub-layer management entity">APSME</ACRONYM> issues the <a href="struct_a_p_s___get_conf__t.html" class="el">Get Confirm</A> primitive such that it contains the <a href="AIB.html" class="el">AIB</A> attribute identifier and value.</LI>
		<li class="aps"><a href="struct_a_p_s___get_conf__t.html" class="el">Get Confirm</A> primitive reports the results of an attempt to read the value of an attribute from the <a href="AIB.html" class="el">AIB</A>. This primitive is generated by the <ACRONYM title="Application support sub-layer management entity">APSME</ACRONYM> and issued to its next higher layer in response to an <a href="struct_a_p_s___get_req__t.html" class="el">Get Request</A> primitive. On receipt of this primitive, the next higher layer is notified of the results of its request to read an <a href="AIB.html" class="el">AIB</A> attribute.</LI>
		<li class="aps"><a href="struct_a_p_s___set_req__t.html" class="el">Set Request</A> primitive allows the next higher layer to write the value of an attribute into the <a href="AIB.html" class="el">AIB</A>. This primitive is to be generated by the next higher layer and issued to its <ACRONYM title="Application support sub-layer management entity">APSME</ACRONYM> in order to write the value of an attribute in the <a href="AIB.html" class="el">AIB</A>. On receipt of this primitive, the <ACRONYM title="Application support sub-layer management entity">APSME</ACRONYM> attempts to write the given value to the indicated <a href="AIB.html" class="el">AIB</A> attribute in its database.</LI>
		<li class="aps"><a href="struct_a_p_s___set_conf__t.html" class="el">Set Confirm</A> primitive reports the results of an attempt to write a value to an <a href="AIB.html" class="el">AIB</A> attribute. This primitive is generated by the <ACRONYM title="Application support sub-layer management entity">APSME</ACRONYM> and issued to its next higher layer in response to an <a href="struct_a_p_s___set_req__t.html" class="el">Set Request</A> primitive. On receipt of this primitive, the next higher layer is notified of the results of its request to write the value of a <a href="AIB.html" class="el">AIB</A> attribute.</LI>
	</UL>
	The Management Service maintains a group table, which allows endpoints to be associated with groups and allows group-addressed frames to be delivered selectively to those endpoints that are associated in the table with a particular group. This set of primitives allows the next higher layer to manage group membership for endpoints on the current device by adding and removing entries in the group table:
	<UL>
		<li class="aps"><a href="struct_a_p_s___add_group_req__t.html" class="el">Add Group Request</A> primitive allows the next higher layer to request that group membership for a particular group be added for a particular endpoint. This primitive is generated by the next higher layer when it wants to add membership in a particular group to an endpoint, so that frames addressed to the group will be delivered to that endpoint in the future. On receipt of this primitive, the <ACRONYM title="Application support sub-layer management entity">APSME</ACRONYM> issues the <a href="struct_a_p_s___add_group_conf__t.html" class="el">Add Group Confirm</A> primitive to the next higher layer.</LI>
		<li class="aps"><a href="struct_a_p_s___add_group_conf__t.html" class="el">Add Group Confirm</A> primitive allows the next higher layer to be informed of the results of its request to add a group to an endpoint. This primitive is generated by the <ACRONYM title="Application support sub-layer management entity">APSME</ACRONYM> and issued to the next higher layer in response to an <a href="struct_a_p_s___add_group_req__t.html" class="el">Add Group Request</A> primitive. On receipt of this primitive, the next higher layer is informed of the status of its request to add a group.</LI>
		<li class="aps"><a href="struct_a_p_s___remove_group_req__t.html" class="el">Remove Group Request</A> primitive allows the next higher layer to request that group membership in a particular group for a particular endpoint be removed. This primitive is generated by the next higher layer when it wants to remove membership in a particular group from an endpoint so that frames addressed to the group will no longer be delivered to that endpoint. On receipt of this primitive, the <ACRONYM title="Application support sub-layer management entity">APSME</ACRONYM> will check the group table to see if an entry exists containing the values given by the GroupAddress and Endpoint parameters. If such an entry already exists in the table, then that entry will be removed.</LI>
		<li class="aps"><a href="struct_a_p_s___remove_group_conf__t.html" class="el">Remove Group Confirm</A> primitive allows the next higher layer to be informed of the results of its request to remove a group from an endpoint. This primitive is generated by the <ACRONYM title="Application support sub-layer management entity">APSME</ACRONYM> and issued to the next higher layer in response to an <a href="struct_a_p_s___remove_group_req__t.html" class="el">Remove Group Request</A> primitive. On receipt of this primitive, the next higher layer is informed of the <a href="StatusParams.html" class="el">status</A> of its request to remove a group.</LI>
		<li class="aps"><a href="struct_a_p_s___remove_all_groups_req__t.html" class="el">Remove All Groups Request</A> primitive is generated by the next higher layer when it wants to remove membership in all groups from an endpoint, so that no group-addressed frames will be delivered to that endpoint. This primitive is generated by the next higher layer when it wants to remove membership in all groups from an endpoint so that no group addressed frames will be delivered to that endpoint. On receipt of this primitive, the <ACRONYM title="Application support sub-layer management entity">APSME</ACRONYM> will remove all entries related to this endpoint from the group table.</LI>
		<li class="aps"><a href="struct_a_p_s___remove_all_groups_conf__t.html" class="el">Remove All Groups Confirm</A> primitive allows the next higher layer to be informed of the results of its request to remove all groups from an endpoint. This primitive is generated by the <ACRONYM title="Application support sub-layer management entity">APSME</ACRONYM> and issued to the next higher layer in response to an <a href="struct_a_p_s___remove_all_groups_req__t.html" class="el">Remove All Groups Request</A> primitive. On receipt of this primitive, the next higher layer is informed of the status of its request to remove all groups from an endpoint.</LI>
		<li class="aps"><a href="struct_a_p_s___register_endpoint_req__t.html" class="el">Register Endpoint</A> primitive
		<li class="aps"><a href="struct_a_p_s___unregister_endpoint_req__t.html" class="el">Unregister Endpoint</A> primitive</LI>
		</UL>
</UL>

<P>See also: <BR><a href="aps_8h.html" class="el">APS Functions and Data Structures</a>
<BR><a href="ASDU.html" class="el">APS Frame format</a>
<BR><a href="AIB.html" class="el">APS Information Base</a>
<BR><a href="StatusParams.html" class="el">APS Status Parameters</a></P>
<hr size="1"><address style="align: right;"><small>Generated on Wen Oct 1 12:45:19 2008 for BitCloud Stack Documentation by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
