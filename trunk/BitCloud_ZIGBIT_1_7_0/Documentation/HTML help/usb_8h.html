<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>BitCloud Stack Documentation: usb.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1-p1 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="classes.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>usb.h File Reference</h1>The header file describes the usb interface. <a href="#_details">More...</a>
<p>

<p>
<a href="usb_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_h_a_l___usb_end_point_descptr__t.html">HAL_UsbEndPointDescptr_t</a></td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef void(*)&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#296a742ccd9abd67fe96a4a1d435cf74">TransferCallback_t</a> (void *pArg, uint8_t status, uint16_t transferred, uint16_t remaining)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">END_PACK void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#37037cc5b9543bf0095123b12c2bc13c">HAL_RegisterRequestHandler</a> (void(*f)(uint8_t *req))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registers user's request handler.  <a href="#37037cc5b9543bf0095123b12c2bc13c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#0f356bbbf9d3c04128adc9540314dea4">HAL_RegisterEndOfBusResetHandler</a> (void(*f)(void))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registers user's end of bus reset handler.  <a href="#0f356bbbf9d3c04128adc9540314dea4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#8b32a9a044ecd12c33d3082a03ba2ecd">HAL_RegisterResumeHandler</a> (void(*f)(void))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registers user's resume handler.  <a href="#8b32a9a044ecd12c33d3082a03ba2ecd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#8245f21df60a3343890268e562c7509e">HAL_RegisterSuspendHandler</a> (void(*f)(void))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Registers user's suspend handler.  <a href="#8245f21df60a3343890268e562c7509e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#4de7d73d65d5392a8a3d0f243b7e4936">HAL_ConfigureEndpoint</a> (<a class="el" href="struct_h_a_l___usb_end_point_descptr__t.html">HAL_UsbEndPointDescptr_t</a> *descriptor)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Configures an endpoint according to its Endpoint Descriptor.  <a href="#4de7d73d65d5392a8a3d0f243b7e4936"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#73d5abd8bfe1c245665e5527fed6b202">HAL_UsbWrite</a> (uint8_t eptnum, void *data, uint32_t size, <a class="el" href="usb_8h.html#296a742ccd9abd67fe96a4a1d435cf74">TransferCallback_t</a> callback, void *argument)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sends data through a USB endpoint. Sets up the transfer descriptor, writes one or two data payloads (depending on the number of FIFO bank for the endpoint) and then starts the actual transfer. The operation is complete when all the data has been sent.  <a href="#73d5abd8bfe1c245665e5527fed6b202"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#acb2a321fd86e2b28b97841e4da24744">HAL_UsbRead</a> (uint8_t eptnum, void *data, uint32_t size, <a class="el" href="usb_8h.html#296a742ccd9abd67fe96a4a1d435cf74">TransferCallback_t</a> callback, void *argument)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads incoming data on an USB endpoint This methods sets the transfer descriptor and activate the endpoint interrupt. The actual transfer is then carried out by the endpoint interrupt handler. The Read operation finishes either when the buffer is full, or a short packet (inferior to endpoint maximum size) is received.  <a href="#acb2a321fd86e2b28b97841e4da24744"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#1315762e61fde359d2b30396dc5660e3">HAL_Halt</a> (uint8_t eptnum)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the HALT feature on the given endpoint (if not already in this state).  <a href="#1315762e61fde359d2b30396dc5660e3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#4f2bf9d2d239386ba4440ab7259708f9">HAL_Unhalt</a> (uint8_t eptnum)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clears the Halt feature on the given endpoint.  <a href="#4f2bf9d2d239386ba4440ab7259708f9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#ad3e5e98fc4efd8476ffb33b648a0448">HAL_IsHalted</a> (uint8_t eptnum)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the current Halt status of an endpoint.  <a href="#ad3e5e98fc4efd8476ffb33b648a0448"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#124e055b42c73532b81c9b4057b1c9c4">HAL_Stall</a> (uint8_t eptnum)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Causes the given endpoint to acknowledge the next packet it receives with a STALL handshake.  <a href="#124e055b42c73532b81c9b4057b1c9c4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#1a4e29e4db91b67f5fa9a6e3a7e78c05">HAL_SetAddress</a> (uint8_t *address)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the device address to the given value.  <a href="#1a4e29e4db91b67f5fa9a6e3a7e78c05"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#be07fd8f32b2938677230654e44ea2dd">HAL_SetConfiguration</a> (uint8_t cfgnum)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the current device configuration.  <a href="#be07fd8f32b2938677230654e44ea2dd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#c5abd61f8db2a77c2ce28690580b5cfc">HAL_UsbInit</a> (uint8_t *reqMem)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initializes the USB driver. This function must be called before host bus reset and after pull up is connected to D+. After pull up was connected to D+ host resets device with 100ms delay.  <a href="#c5abd61f8db2a77c2ce28690580b5cfc"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="usb_8h.html#7d83c72e39bb95587b6ac1d4bd58ebe4">HAL_GetState</a> (void)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the current state of the USB device.  <a href="#7d83c72e39bb95587b6ac1d4bd58ebe4"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
The header file describes the usb interface. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Atmel Corporation: <a href="http://www.atmel.com">http://www.atmel.com</a> <br>
 Support email: <a href="mailto:avr@atmel.com">avr@atmel.com</a></dd></dl>
Copyright (c) 2008 , Atmel Corporation. All rights reserved. Licensed under Atmel's Limited License Agreement (BitCloudTM). 
<p>
Definition in file <a class="el" href="usb_8h-source.html">usb.h</a>.<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="296a742ccd9abd67fe96a4a1d435cf74"></a><!-- doxytag: member="usb.h::TransferCallback_t" ref="296a742ccd9abd67fe96a4a1d435cf74" args="(void *pArg, uint8_t status, uint16_t transferred, uint16_t remaining)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* ) <a class="el" href="usb_8h.html#296a742ccd9abd67fe96a4a1d435cf74">TransferCallback_t</a>(void *pArg, uint8_t status, uint16_t transferred, uint16_t remaining)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="usb_8h-source.html#l00043">43</a> of file <a class="el" href="usb_8h-source.html">usb.h</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="37037cc5b9543bf0095123b12c2bc13c"></a><!-- doxytag: member="usb.h::HAL_RegisterRequestHandler" ref="37037cc5b9543bf0095123b12c2bc13c" args="(void(*f)(uint8_t *req))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">END_PACK void HAL_RegisterRequestHandler           </td>
          <td>(</td>
          <td class="paramtype">void(*)(uint8_t *req)&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registers user's request handler. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>f</em>&nbsp;</td><td>- pointer to user's callback </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="0f356bbbf9d3c04128adc9540314dea4"></a><!-- doxytag: member="usb.h::HAL_RegisterEndOfBusResetHandler" ref="0f356bbbf9d3c04128adc9540314dea4" args="(void(*f)(void))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_RegisterEndOfBusResetHandler           </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registers user's end of bus reset handler. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>f</em>&nbsp;</td><td>- pointer to user's callback </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="8b32a9a044ecd12c33d3082a03ba2ecd"></a><!-- doxytag: member="usb.h::HAL_RegisterResumeHandler" ref="8b32a9a044ecd12c33d3082a03ba2ecd" args="(void(*f)(void))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_RegisterResumeHandler           </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registers user's resume handler. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>f</em>&nbsp;</td><td>- pointer to user's callback </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="8245f21df60a3343890268e562c7509e"></a><!-- doxytag: member="usb.h::HAL_RegisterSuspendHandler" ref="8245f21df60a3343890268e562c7509e" args="(void(*f)(void))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_RegisterSuspendHandler           </td>
          <td>(</td>
          <td class="paramtype">void(*)(void)&nbsp;</td>
          <td class="paramname"> <em>f</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Registers user's suspend handler. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>f</em>&nbsp;</td><td>- pointer to user's callback </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="4de7d73d65d5392a8a3d0f243b7e4936"></a><!-- doxytag: member="usb.h::HAL_ConfigureEndpoint" ref="4de7d73d65d5392a8a3d0f243b7e4936" args="(HAL_UsbEndPointDescptr_t *descriptor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_ConfigureEndpoint           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_h_a_l___usb_end_point_descptr__t.html">HAL_UsbEndPointDescptr_t</a> *&nbsp;</td>
          <td class="paramname"> <em>descriptor</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Configures an endpoint according to its Endpoint Descriptor. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>descriptor</em>&nbsp;</td><td>- Pointer to an Endpoint descriptor. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="73d5abd8bfe1c245665e5527fed6b202"></a><!-- doxytag: member="usb.h::HAL_UsbWrite" ref="73d5abd8bfe1c245665e5527fed6b202" args="(uint8_t eptnum, void *data, uint32_t size, TransferCallback_t callback, void *argument)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HAL_UsbWrite           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>eptnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="usb_8h.html#296a742ccd9abd67fe96a4a1d435cf74">TransferCallback_t</a>&nbsp;</td>
          <td class="paramname"> <em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>argument</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sends data through a USB endpoint. Sets up the transfer descriptor, writes one or two data payloads (depending on the number of FIFO bank for the endpoint) and then starts the actual transfer. The operation is complete when all the data has been sent. 
<p>
If the size of the buffer is greater than the size of the endpoint (or twice the size if the endpoint has two FIFO banks), then the buffer must be kept allocated until the transfer is finished*. This means that it is not possible to declare it on the stack (i.e. as a local variable of a function which returns after starting a transfer).<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>eptnum</em>&nbsp;</td><td>- Endpoint number. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>- Pointer to a buffer with the data to send. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>- Size of the data buffer. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>callback</em>&nbsp;</td><td>- Optional callback function to invoke when the transfer is complete. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>argument</em>&nbsp;</td><td>- Optional argument to the callback function.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>STATUS_SUCCESS if the transfer has been started; otherwise, the corresponding error status code. </dd></dl>

</div>
</div><p>
<a class="anchor" name="acb2a321fd86e2b28b97841e4da24744"></a><!-- doxytag: member="usb.h::HAL_UsbRead" ref="acb2a321fd86e2b28b97841e4da24744" args="(uint8_t eptnum, void *data, uint32_t size, TransferCallback_t callback, void *argument)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HAL_UsbRead           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>eptnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="usb_8h.html#296a742ccd9abd67fe96a4a1d435cf74">TransferCallback_t</a>&nbsp;</td>
          <td class="paramname"> <em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>argument</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads incoming data on an USB endpoint This methods sets the transfer descriptor and activate the endpoint interrupt. The actual transfer is then carried out by the endpoint interrupt handler. The Read operation finishes either when the buffer is full, or a short packet (inferior to endpoint maximum size) is received. 
<p>
The buffer must be kept allocated until the transfer is finished*.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>eptnum</em>&nbsp;</td><td>- Endpoint number. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>data</em>&nbsp;</td><td>- Pointer to a data buffer. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>- Size of the data buffer in bytes. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>callback</em>&nbsp;</td><td>- Optional end-of-transfer callback function. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>argument</em>&nbsp;</td><td>- Optional argument to the callback function.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>STATUS_SUCCESS if the read operation has been started; otherwise, the corresponding error code. </dd></dl>

</div>
</div><p>
<a class="anchor" name="1315762e61fde359d2b30396dc5660e3"></a><!-- doxytag: member="usb.h::HAL_Halt" ref="1315762e61fde359d2b30396dc5660e3" args="(uint8_t eptnum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_Halt           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>eptnum</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the HALT feature on the given endpoint (if not already in this state). 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>eptnum</em>&nbsp;</td><td>- Endpoint number. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="4f2bf9d2d239386ba4440ab7259708f9"></a><!-- doxytag: member="usb.h::HAL_Unhalt" ref="4f2bf9d2d239386ba4440ab7259708f9" args="(uint8_t eptnum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_Unhalt           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>eptnum</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Clears the Halt feature on the given endpoint. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>eptnum</em>&nbsp;</td><td>- Endpoint number. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ad3e5e98fc4efd8476ffb33b648a0448"></a><!-- doxytag: member="usb.h::HAL_IsHalted" ref="ad3e5e98fc4efd8476ffb33b648a0448" args="(uint8_t eptnum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HAL_IsHalted           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>eptnum</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the current Halt status of an endpoint. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>eptnum</em>&nbsp;</td><td>- Endpoint number.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 - if the endpoint is currently halted; 0 - otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="124e055b42c73532b81c9b4057b1c9c4"></a><!-- doxytag: member="usb.h::HAL_Stall" ref="124e055b42c73532b81c9b4057b1c9c4" args="(uint8_t eptnum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HAL_Stall           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>eptnum</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Causes the given endpoint to acknowledge the next packet it receives with a STALL handshake. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>eptnum</em>&nbsp;</td><td>- Endpoint number.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>STATUS_SUCCESS or STATUS_BUSY. </dd></dl>

</div>
</div><p>
<a class="anchor" name="1a4e29e4db91b67f5fa9a6e3a7e78c05"></a><!-- doxytag: member="usb.h::HAL_SetAddress" ref="1a4e29e4db91b67f5fa9a6e3a7e78c05" args="(uint8_t *address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_SetAddress           </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>address</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the device address to the given value. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>address</em>&nbsp;</td><td>- New device address. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="be07fd8f32b2938677230654e44ea2dd"></a><!-- doxytag: member="usb.h::HAL_SetConfiguration" ref="be07fd8f32b2938677230654e44ea2dd" args="(uint8_t cfgnum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_SetConfiguration           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>cfgnum</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the current device configuration. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>cfgnum</em>&nbsp;</td><td>- Configuration number to set. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c5abd61f8db2a77c2ce28690580b5cfc"></a><!-- doxytag: member="usb.h::HAL_UsbInit" ref="c5abd61f8db2a77c2ce28690580b5cfc" args="(uint8_t *reqMem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_UsbInit           </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>reqMem</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes the USB driver. This function must be called before host bus reset and after pull up is connected to D+. After pull up was connected to D+ host resets device with 100ms delay. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>reqMem</em>&nbsp;</td><td>- Memory for usb request. Memory is allocated by user. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="7d83c72e39bb95587b6ac1d4bd58ebe4"></a><!-- doxytag: member="usb.h::HAL_GetState" ref="7d83c72e39bb95587b6ac1d4bd58ebe4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t HAL_GetState           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the current state of the USB device. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Device current state. </dd></dl>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Mon Nov 9 13:48:41 2009 for BitCloud Stack Documentation by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1-p1 </small></address>
</body>
</html>
